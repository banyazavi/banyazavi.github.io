---
title: "[OMV4 NAS] Transmission BitTorrent 클라이언트 설치"
excerpt: 공유자가 얼마 없는 토렌트도 세월아 네월아 기다리다 보면 다 받을 수 있는 법입니다. 물론 컴퓨터가 세월아 네월아 켜져 있어야 하죠. 그런데 우리는 나스가 있잖아요?
key: post-2019-11-24-01
categories:
  - OMV4 자작 NAS 구축
sidebar:
  - nav: omv4_nas
tags:
  - BitTorrent
  - NAS
  - openmediavault
  - Transmission
---

**BitTorrent**는 파일의 공유를 위한 P2P 프로토콜입니다. 파일을 내려받는 사용자를 동시에 내려받은 부분에 대해 업로더로 활용, 해당 파일에 대한 업로드 자원을 확장해 다운로드 속도를 확보하며 빠르게 파일을 확산시키는 방식이죠.

비트토렌트는 고성능의 배포 서버를 확보하기 어려운 프로그램의 배포에 활용되는 경우가 종종 있습니다. 게임 클라이언트라거나, 오픈소스나 개인 제작자의 파일 배포 등에요. 네, 사실 가장 많이 쓰이는 분야는 방송 등 미디어 콘텐츠에 대한 공유일 거예요. ~~그걸 어떻게 하는지는 알아서 찾아봅시다.~~

그래서 이 글에서는 **Transmission**이라고 하는 비트토렌트 클라이언트를 설치하여 토렌트를 통해 파일을 내려받거나 공유하는 방법을 안내합니다.

---

# Transmission 설치

일단 트랜스미션을 내려받습니다. OMV4까지는 이를 플러그인으로 지원하기 때문에 매우 쉽게 설치할 수 있어요.

아래 그림과 같이 **시스템 > 플러그인** 에서 transmission 패키지를 찾아 설치합니다.

![Transmission 설치]({{"/assets/images/2019-11-24/2019-11-24-01-01.png"| relative_url}})

# 토렌트 관리 폴더 설정

토렌트를 받기 위해서는 아래와 같이 세 개의 폴더를 만들어야 합니다.

- complete (완료된 토렌트 파일을 보관할 폴더)
- incomplete (다운로드 중인 토렌트 파일이 저장될 폴더)
- watch (내려받을 토렌트 시드를 저장할 폴더)

이 중 **incomplete**, **watch** 폴더는 만들지 않아도 됩니다. incomplete 폴더를 만들지 않으면 complete 폴더에 같이 저장되게 되고, watch 폴더가 없으면 시드 파일을 복사하여 토렌트를 받는 방식을 사용할 수 없어요.

저는 토렌트 전용 공유 폴더를 생성하여 설치를 진행하기로 했습니다.

![torrent 공유 폴더 생성]({{"/assets/images/2019-11-24/2019-11-24-01-02.png"| relative_url}})

위와 같이 공유 폴더를 생성하고, FTP나 SMB, SSH 등으로 이 아래에 위에서 말한 3개의 폴더를 생성합니다.

그리고 트랜스미션 프로그램이 이 폴더에 접근할 수 있도록 권한을 줍니다.

![debian-transmission 권한 부여]({{"/assets/images/2019-11-24/2019-11-24-01-03.png"| relative_url}})

# BitTorrent 설정

플러그인을 설치하고 나면 **서비스 > BitTorrent**라는 메뉴가 생긴 것이 보일 거예요. 해당 메뉴에 들어간 뒤, **Files and Locations** 탭부터 확인합니다.

![Files and Locations 설정]({{"/assets/images/2019-11-24/2019-11-24-01-04.png"| relative_url}})

아까 만든 폴더들을 위 그림과 같이 연결합니다. 그리고 **RPC** 탭으로 갑니다.

![RPC 설정]({{"/assets/images/2019-11-24/2019-11-24-01-05.png"| relative_url}})

**트랜스미션 RPC**는 트랜스미션을 관리하는 웹 패널이에요. RPC를 활성화한 후 나스의 해당 포트로 접속하게 되면 **µTorrent**처럼 토렌트를 관리할 수 있습니다.

그리고 이 설정은 [**Transmission Remote**](https://play.google.com/store/apps/details?id=net.yupol.transmissionremote.app&hl=ko){: target="_blank"}과 같은 외부 관리 툴에서도 필요해요.

![Transmission 활성화]({{"/assets/images/2019-11-24/2019-11-24-01-06.png"| relative_url}})

그리고 트랜스미션을 활성화해주면 끝입니다.

# Transmission을 통해 토렌트 내려받기

자, 이제 토렌트를 받아봅시다.

![Transmission RPC 접속]({{"/assets/images/2019-11-24/2019-11-24-01-07.png"| relative_url}})

웹 브라우저에 **NAS주소:포트번호**로 접속하여 트랜스미션 RPC에 접속하면 위와 같은 화면을 볼 수 있습니다. **열기** 아이콘을 눌러 토렌트를 받기 시작할 수 있어요.

## 첫 번째 방법, RPC에 시드 파일을 추가하기

![RPC에 .torrent 시드 추가]({{"/assets/images/2019-11-24/2019-11-24-01-08.png"| relative_url}})

인터넷에서 받은 `.torrent` 시드 파일을 파일 선택 버튼을 통해 추가할 수 있습니다.

## 두 번째 방법, RPC에 마그넷 주소 붙여넣기

![RPC에 magnet 링크 추가]({{"/assets/images/2019-11-24/2019-11-24-01-09.png"| relative_url}})

아니면 `magnet:` 으로 시작하는 링크를 붙여넣어 토렌트를 내려받을 수도 있고요.

## 세 번째 방법, Watch 폴더에 시드 파일을 복사하기

아까 만들어 둔 **watch** 폴더에 `.torrent` 파일을 복사하여 다운로드를 진행할 수도 있어요. 파일을 복사한 뒤 트랜스미션이 시드를 확인하면, 토렌트를 추가하고 파일을 `.added` 확장자로 바꿔놓습니다.

![Watch 폴더에 시드 복사]({{"/assets/images/2019-11-24/2019-11-24-01-10.png"| relative_url}})

**FTP**를 통해 시드를 복사해 놓은 장면입니다. 복사 직후 토렌트가 파일을 인식하여 `.added` 파일로 바꿔놓았네요.

아무튼, 이렇게 파일을 추가하고 나면,

![RPC 토렌트 추가 후 화면]({{"/assets/images/2019-11-24/2019-11-24-01-11.png"| relative_url}})

이렇게 토렌트가 추가되어 다운로드 중인 것을 확인할 수 있습니다. 다운로드 중에는 `incomplete` 폴더에 `.part` 확장자로 파일이 받아지다가,

![내려받은 파일 확인]({{"/assets/images/2019-11-24/2019-11-24-01-12.png"| relative_url}})

다운이 완료되면 `complete` 폴더에 이렇게 받아져 있는 것을 볼 수 있어요.

---

# 그리고 남은 이야기

이 시리즈의 시작 부분에서 언급한 내용이지만, OMV5에서는 플러그인이 삭제되어 트랜스미션을 위와 같이 설정할 수 없습니다.

OMV가 커뮤니티에서 개발하는 솔루션이므로 도커와 같은 외부의 구축 방식을 사용하는 것이 플러그인 개발 부담이 적긴 하겠지만, 트랜스미션 정도는 핵심 기능으로 고려하고 플러그인을 개발하는 것이 좋았지 싶습니다. 아쉽네요.
