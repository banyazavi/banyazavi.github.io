---
title: "[OMV6 on HC4] ODROID-HC4에 OMV6 NAS 구축하기"
excerpt: ODROID-HC4는 NAS를 만들기 딱 좋은 장비인 것 같습니다. openmediavault 6는 꽤 쓸만한 NAS 솔루션이고요. 그래서 두개를 같이 준비했습니다!
categories:
  - OMV6 on HC4
sidebar:
  - nav: omv6_nas
tags:
  - NAS
  - ODROID
  - ODROID-HC4
  - OMV6
  - openmediavault
---

이번 시리즈에서는 하드커널사의 나스용 SBC인 **ODROID-HC4**에 데비안 기반의 오픈 소스 나스 솔루션인 **openmediavault 6 (OMV6)** 를 설치하는 방법을 안내합니다. 기존의 시리즈를 참고하여도 OMV6 설치에는 무리가 없어서, 여기서는 오드로이드 HC4에 특화된 방법을 알려 드리려고 해요.

우선, 저것들이 무엇인지부터 알아봅시다. 사실 기존의 글에서 한 번씩 소개가 된 내용이에요.

---

# ODROID-HC4

![ODROID-HC4 with OLED]({{"/assets/images/2021-12-04/2021-12-04-01-01.png"| relative_url}})  
[**ODROID-HC4** 판매 페이지](https://www.hardkernel.com/ko/shop/odroid-hc4/){: target="_blank"}  
[**ODROID-HC4 with OLED** 판매 페이지](https://www.hardkernel.com/ko/shop/odroid-hc4-oled/){: target="_blank"}

**ODROID-HC4**는 안드로이드 개발자 보드로 유명한 하드커널에서 작년에 발표한, 나스에 특화된 싱글 보드 컴퓨터입니다. [**ODROID-C4**](https://www.hardkernel.com/ko/shop/odroid-c4/){: target="_blank"}에서 파생되어, SATA 방식의 디스크 설치가 쉽도록 구조가 변경되어 있어요.

제품은 위의 사진과 같이 OLED 패널이 달린 모델과 OLED가 없는 대신 만 원 정도 저렴한 기본형이 있습니다. OLED가 그렇게까지 유용한 것은 아니지만, 만원 정도는 투자해 볼 만 한 것 같네요. 이 시리즈에서도 OLED를 사용하여 나스의 상태를 확인하는 방법을 소개할 계획이에요.

오드로이드 HC4를 제가 구매해서 직접 사용해 본 소감은 이렇습니다.

## 장점: 최고의 가성비와 준수한 완성도

HC4의 성능은 **시놀로지 DS220j**와 같은 상용 나스의 엔트리 모델과 크게 다르지 않아 보입니다. 사실 ARM 기반의 임베디드 보드는 성능이 다 거기서 거기인 수준이에요. 기가비트 환경에서의 파일 전송과 영상 스트리밍 정도는 무리 없이 할 수 있지만, 트랜스코딩과 같은 고급 기능이나 열 명 이상의 다중 접속 등은 버겁죠. 그래도 모든 스펙이 같은 것은 아닙니다. HC4의 메모리 (4GB) 는 DS220j (512MB) 보다 8배나 높아요.

그리고 가격은 절반 수준이죠. 제조사가 최적화된 솔루션을 제공하지는 않지만, ARM 용 도커를 설치할 수 있으므로 서비스 확장도 어렵지 않습니다.

외관도 꽤 깔끔해요. 투명 플라스틱으로 인해 내부가 보이는 것은 공대 느낌이 물씬 나지만, 플라스틱이 꽤 단단하고 무게 중심도 잘 잡혀 있는 편입니다.

물론 장점만 있는 건 아니죠.

## 단점: 토스터 디자인은 너무 불안한데

HC4는 도킹 스테이션과 유사한 토스터 디자인이에요. 그런데 이 구조가 상당히 불안한데요. 데스크톱용 3.5인치 하드 디스크를 꽂을 땐 그나마 괜찮은데, 노트북용 2.5인치 디스크를 꽂으면 빈 공간 부분으로 흔들거립니다. 그리고 연결 고정이 되어 있지 않기 때문에, 실수로 툭 쳐서 디스크가 빠지기도 쉬워 보여요. 저는 그래서 디스크가 쉽게 빠지지 않도록 쐐기를 박아서 고정했어요.

그리고 도킹 스테이션과 같은 디자인인데 공식적으로 핫스왑을 지원하지 않습니다. 그럼 굳이 이 구조였을 필요도 없는 것 같은데 말이죠.

다음 모델은 SATA 고정용 구조가 들어가거나, HC1/HC2 때처럼 나사로 디스크를 고정하는 방식이었으면 좋겠네요.

# openmediavault 6

![openmediavault 로고]({{"/assets/images/2021-12-04/2021-12-04-01-02.png"| relative_url}})  
[openmediavault 공식 홈페이지](https://www.openmediavault.org/){: target="_blank"}

**openmediavault**는 **Debian** 기반의 오픈 소스 **NAS** 솔루션이에요. 보통은 **OMV**라고 하죠. OMV는 데비안의 판올림에 맞추어 거의 매년 새로운 버전을 출시하는데, **openmediavault 6**는 **Debian 11 Bullseye**를 기반으로 하는 버전이에요.

**그리고 원래는 21년 1분기에 출시한다고 했는데,** 일정이 계속 밀려 21년 4분기 현재까지도 개발 상태에요. 하지만 지금은 사실상 완성 단계로, (RC1 배포가 되어 있어요) 조만간 공식 출시가 될 것 같아요. OMV6를 새 시리즈 주제로 잡아 뒀다가 1년 내내 글을 못 쓰고 있었는데요, ~~남 탓~~ 이제 실사용 가능한 단계까지 와서 시리즈를 시작할 수 있게 되었습니다.

## 장점: 디자인은 확실히 괜찮아졌는데

![OMV6 대시보드]({{"/assets/images/2021-12-04/2021-12-04-01-03.png"| relative_url}})  
공식 홈페이지의 OMV6 웹 패널 스크린샷

OMV4에서 OMV5로 바뀔 때는 UI 변화가 전혀 없었는데요. OMV6는 디자인을 아예 갈아엎은 수준이에요. 최근의 추세에 맞추었는지 큼직큼직하게 만들어졌고, 카드 형식의 대시보드도 제공합니다. 모바일 접속을 신경 쓴 듯한 디자인이 되어 있죠. ~~하지만 정작 모바일에선 별로 안 예쁨~~

## 단점: 그거 빼곤 달라진 것이 없는데

문제는 그것 빼고는 달라진 것이 없다는 거예요. **도커 관리자**나 **역방향 프록시** 등은 직접 플러그인을 만들어 줬으면 좋을 텐데요. 물론 **포테이너**나 **NPM**과 같은 기능의 좋은 도커 서비스가 있으니 괜찮긴 하지만, 이런 기능은 코어 솔루션인 OMV에서 직접 지원해주는 것이 좋다고 생각합니다. 결국, 서비스 대부분을 플러그인 없이 APT나 도커를 이용해 설치하게 되는데, 이러면 그냥 우분투에 도커 얹고 쓰고 말지... 하는 생각이 자주 들죠.

하지만 디스크 마운트나 사용자 관리가 매우 편리하므로, 저는 여전히 OMV를 설치하고 있어요.

---

자, 설명은 끝났습니다. 다음 글부터는 Hc4에 데비안 설치부터 소개할 거예요. 설치를 가정하는 환경, 즉 준비물은 이렇습니다.

# 준비물

- [**ODROID-HC4 with OLED**](https://www.hardkernel.com/ko/shop/odroid-hc4-oled/){: target="_blank"}  
  다른 제품을 사용한다면 **데비안 11까지는 직접 설치**해야 해요.  
  64비트 ARM (aarch64) 이 아닌 제품이라면 **도커 기반의 서비스 설치 방법이 다를 수** 있어요.  
  OLED가 없는 모델을 사도 괜찮아요. 하지만 OLED를 사용하는 기능이 하나 있어요.
- **SATA 방식의 디스크 2개**  
  디스크 1개에는 OS와 OMV를 설치하고, 쓰기가 자주 발생하는 서비스에 사용할 거예요.  
  다른 디스크 1개는 자료의 장기 보관을 위해, 보관용이나 프로그램에 의한 쓰기가 거의 없는 자료를 담아 두고요.  
  이러한 구분 없이 디스크 1개로 사용해도 괜찮지만, **공유 폴더 구성 방법이 조금 달라질** 거예요.
- **모니터와 HDMI 케이블, USB 키보드**  
  HC4에 데비안을 설치하는 데 필요해요. 그 이후에는 원격접속이나 웹 패널을 통해 진행이 가능해져요.  
  다른 제품을 쓴다면 상황에 따라 전혀 필요 없을 수도 있어요.
- **LAN 케이블 (...)**
