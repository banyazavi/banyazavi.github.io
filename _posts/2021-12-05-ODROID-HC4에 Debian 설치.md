---
title: "[OMV6 on HC4] ODROID-HC4에 Debian 설치"
excerpt: 싱글 보드 컴퓨터에 운영체제 설치하는 것이 제일 어려워요. 제품마다 방법도 제각각인데 가이드도 찾기가 힘들거든요.
categories:
  - OMV6 on HC4
sidebar:
  - nav: omv6_nas
tags:
  - Debian
  - Debian 11 Bullseye
  - ODROID
  - ODROID-HC4
---

> **[NOTE]**  
> 이 글은 [**ODROID-HC4**](https://www.hardkernel.com/ko/shop/odroid-hc4/){: target="_blank"}/[**/with OLED**](https://www.hardkernel.com/ko/shop/odroid-hc4-oled/){: target="_blank"}만을 위한 글입니다.  
> 다른 제품을 사용하는 분은 데비안 11을 어떻게든 설치하고 다음 글부터 보면 됩니다.

이번 글에서는 **Petitboot**에 있는 **Netboot Installer**를 이용하여 **ODROID-HC4**에 **Debian 11**을 설치하는 방법을 안내합니다. 그럼, 데비안부터 소개를 해야겠네요.

---

# Debian

![Debian 로고]({{"/assets/images/2021-12-05/2021-12-05-01-01.png"| relative_url}})  
[**Debian 공식 홈페이지**](https://www.debian.org/){: target="_blank"}

**Debian**은 1993년 이안 머독으로부터 시작된 오픈 소스 리눅스 운영체제입니다. **APT**<sup>Advanced Packaging Tool</sup>이라고 하는 강력한 패키지 관리 도구가 있어 프로그램 설치가 편한 장점이 있죠. (물론 요즘 대부분의 리눅스 배포판은 이런 도구가 다 있지만) 가장 큰 장점은 [**Ubuntu**](https://ubuntu.com/){: target="_blank"}**가 데비안에서 파생된 배포판이라는 점**입니다. 가장 유명한 리눅스 배포판을 등에 업고 있는 덕분에 데비안은 문제 해결이 굉장히 쉽거든요. 프로그램 대부분이 데비안용 설치법을 제공하고 있고, **없을 땐 우분투 설치법을 따라 하면 되거든요!**

그러면 그냥 우분투를 깔면 되지 않나 싶지만, 안타깝게도 OMV는 데비안에서만 설치가 됩니다. ~~없을 땐 우분투 따라 하면 된다며~~ ~~근데 이건 우분투가 없는 거라서...~~

자, 이제 설치를 시작해 보죠.

# Petitboot Netboot Installer 실행

```
Petitboot (dev.20201222)
----------------------------------------
System information
System configuration
System status log
Language
Rescan devices
Retrieve config from URL
Plugins (0)
Exit to shell
```

HC4에 OS 설치용 디스크를 하나 꽂고 랜, USB 키보드, HDMI를 통해 모니터까지 연결하고 마지막으로 전원을 연결하면 생소한 화면이 뜹니다. **Petitboot**이라고 하는 부트로더인데요.

이 상태에서 이것저것 눌러봐야 제대로 부팅이 되지 않습니다. 저도 여기서 한참을 헤맸는데요. **정답은 쉘로 나가 Netboot를 활성화**해야 하더라고요. **Exit to shell**을 선택하여 쉘을 실행합니다.

```
Exiting petitboot. Type 'exit' to return.
You may run 'pb-sos' to gather diagnostic data
/ # netboot_default
/ # exit
```

쉘에서 `netboot_default`을 입력해서 넷부트를 활성화하고 `exit`를 입력해서 Petitboot로 돌아가면 아까 화면이 조금 달라져 있어요.

```
Petitboot (dev.20201222)
----------------------------------------
[Network: eth0 / 00:00:00:00:00:00]
  ...
  Debian 11 (Bullseye) Netboot Installer
  ...

System information
System configuration
System status log
Language
Rescan devices
Retrieve config from URL
Plugins (0)
Exit to shell
```

넷부트를 통해 실행할 수 있는 옵션이 생겼습니다. 우리는 **Debian 11**을 선택하면 되겠죠?

# Debian 11 설치

설치 과정의 모든 스크린샷을 가져왔습니다!

## 언어 선택

![언어 선택]({{"/assets/images/2021-12-05/2021-12-05-01-02.png"| relative_url}})

언어 선택 화면입니다. 아무래도 한국어가 좋겠죠?

![언어 선택 경고]({{"/assets/images/2021-12-05/2021-12-05-01-03.png"| relative_url}})

하지만 한국어의 번역이 불완전하다고 경고하는데요. ~~제 영어 번역이 더 불완전해서~~ 실제 번역 수준은 꽤 괜찮으므로 `<예>`를 선택합니다.

## 위치 선택

![위치를 선택하십시오]({{"/assets/images/2021-12-05/2021-12-05-01-04.png"| relative_url}})

시간대를 설정하기 위해 위치를 선택합니다. 대부분은 대한민국일 거예요.

## 키보드 설정

![키보드 설정]({{"/assets/images/2021-12-05/2021-12-05-01-05.png"| relative_url}})

키보드 설정도 `<한국어>`로 선택합니다.

## 네트워크 설정

![네트워크 설정 - 호스트 이름]({{"/assets/images/2021-12-05/2021-12-05-01-06.png"| relative_url}})

호스트 이름은 공유기에 표시되는 이름과 네트워크 드라이브에 (SMB) 사용하는 이름이에요. 적당한 이름을 지어주면 됩니다. 저는 **OMV6**라고 지었어요.

![네트워크 설정 - 도메인 이름]({{"/assets/images/2021-12-05/2021-12-05-01-07.png"| relative_url}})

도메인 이름은 내부에 DNS가 있는 경우 호스트 이름과 함께 조회에 사용되는 값이에요. 사용하는 경우에는 소속된 네트워크의 도메인을 적어 주면 됩니다. 없으면 빈칸으로 넣어도 되고요. 그래서 저는 빈칸으로 두었어요.

호스트 이름과 도메인 이름은 OMV 설치 후 웹 관리 패널에서 수정할 수 있으므로, 너무 신중하게 생각하지 않아도 괜찮아요.

## 패키지 관리자 설정

![패키지 관리자 설정 - 미러 국가]({{"/assets/images/2021-12-05/2021-12-05-01-08.png"| relative_url}})

패키지 관리자가 어느 미러에서 패키지를 내려받을지를 결정하기 위한 국가 선택 화면이에요. 특별한 이유가 없는 한 위치 설정과 같은 국가를 선택하면 됩니다.

![패키지 관리자 설정 - 미러 사이트]({{"/assets/images/2021-12-05/2021-12-05-01-09.png"| relative_url}})

국가를 선택하고 나면 그 국가의 미러 사이트 목록을 보여 주는데요, 어느 곳을 선택해도 큰 차이는 없어요. 저는 기본값으로 선택했습니다.

![패키지 관리자 설정 - 프록시 정보]({{"/assets/images/2021-12-05/2021-12-05-01-10.png"| relative_url}})

회사 등에서 사용하는 관계로 프록시 설정이 필요하다면, 이 단계에서 설정하면 됩니다. 저는 프록시를 쓰지 않으니 빈칸으로 남겨뒀어요.

## 사용자 및 암호 설정

![사용자 및 암호 설정 - 루트 암호]({{"/assets/images/2021-12-05/2021-12-05-01-11.png"| relative_url}})

루트 계정을 사용할 거라면 여기서 암호를 설정해 주면 되는데요. 루트 계정으로 직접 접속하는 것은 보안상 좋지 않기 때문에, 저는 사용하지 않을 거예요. 사용하지 않을 때는 이 항목을 빈칸으로 두고 넘어가면 됩니다.

![사용자 및 암호 설정 - 루트 암호 확인]({{"/assets/images/2021-12-05/2021-12-05-01-12.png"| relative_url}})

저는 여기도 빈칸으로 두고 넘어가면 되겠죠?

![사용자 및 암호 설정 - 사용자 전체 이름]({{"/assets/images/2021-12-05/2021-12-05-01-13.png"| relative_url}})

여기서는 최초 사용자 계정을 생성하게 됩니다. 이렇게 사용자 이름을 지어주고요.

![사용자 및 암호 설정 - 계정 사용자 이름]({{"/assets/images/2021-12-05/2021-12-05-01-14.png"| relative_url}})

이 부분은 로그인에 사용할 ID를 의미합니다. 적당한 아이디가 미리 입력되어 있는데, 저는 그걸 그냥 쓰기로 했어요.

![사용자 및 암호 설정 - 사용자 암호]({{"/assets/images/2021-12-05/2021-12-05-01-15.png"| relative_url}})

사용할 암호를 적어 줍니다.

![사용자 및 암호 설정 - 사용자 암호 확인]({{"/assets/images/2021-12-05/2021-12-05-01-16.png"| relative_url}})

한 번 더 적어 주고요.

## 디스크 파티션 설정

![디스크 파티션하기 - 파티션 방법]({{"/assets/images/2021-12-05/2021-12-05-01-17.png"| relative_url}})

파티션을 나누는 과정이에요. 예전에는 OMV가 설치되는 파티션에는 공유 폴더를 설정할 수가 없어서, 여기서 적당히 파티션을 쪼개 줬어야 했는데요. 지금은 **sharerootfs**라는 플러그인을 설치하여 설정할 수가 있게 되었으므로 그냥 디스크 전체를 자동으로 파티셔닝하도록 하겠습니다.

![디스크 파티션하기 - 파티션 선택]({{"/assets/images/2021-12-05/2021-12-05-01-18.png"| relative_url}})

데비안을 설치할 디스크를 선택합니다. 모든 디스크를 미리 장착한 것이 아니라면, 저와 같이 한 개만 확인되겠죠. 그걸 선택하면 돼요.

![디스크 파티션하기 - 파티션 구성]({{"/assets/images/2021-12-05/2021-12-05-01-19.png"| relative_url}})

일부 폴더를 다른 파티션에 구성하면 미래에 리눅스를 재설치할 때 유용할 수 있는데요. 한 파티션에 설치하는 것을 추천한다니 저는 그걸 따라가도록 했습니다.

![디스크 파티션하기 - 파티션 정보]({{"/assets/images/2021-12-05/2021-12-05-01-20.png"| relative_url}})

그럼 위와 같이 파티션이 구성되게 되죠. 설정하기에 따라 파티션 구성이 다를 수도 있는데요. 일반적으로 **ext4** 포맷으로 `/` 경로에 마운트 된 파티션이 있으면 정상적으로 설치가 됩니다.

![디스크 파티션하기 - 파티션 확정]({{"/assets/images/2021-12-05/2021-12-05-01-21.png"| relative_url}})

여기서 `<예>`를 누르면 이제 파티션 설정을 확정합니다. 혹시 디스크에 백업하지 않은 자료가 있다면, 지금이 취소할 마지막 기회에요! 디스크를 지워도 되는 상태라면 `<예>`를 누르고 설치를 시작합니다.

## 패키지 인기 투표 참여 동의

![패키지 인기 투표 참여]({{"/assets/images/2021-12-05/2021-12-05-01-22.png"| relative_url}})

패키지 사용 통계를 위해 정보 수집 동의를 물어보는 화면이에요. `<아니요>` 해도 상관은 없습니다. 저는 개발자들에게 도움을 주고 싶어서 `<예>`로 하기로 했어요.

## 추가 소프트웨어 설치

![소프트웨어 선택]({{"/assets/images/2021-12-05/2021-12-05-01-23.png"| relative_url}})

데비안과 같이 설치할 프로그램을 선택하는 화면입니다. **Debian desktop environment**와 하위 환경 중 하나를 선택하면 HDMI 포트를 통해 윈도우와 같은 GUI 환경을 사용할 수도 있어요. 그런데 우리는 이것을 나스로 쓸 생각이니까, 괜히 메모리 차지하지 않게 아무것도 선택하지 않습니다.

**SSH Server**는 반드시 설치해야 해요. 그래야 다음부터 외부에서 SSH를 통해 접속할 수 있어요. 그리고 어차피 OMV를 설치할 때 같이 설치되어 옵니다.

**표준 시스템 유틸리티**는 리눅스 관리에 필요한 몇 가지 유용한 프로그램을 설치합니다. 설치하지 않아도 상관은 없는데요. 가끔 필요할 때가 있어서 저는 설치하는 편이에요.

## 설치 완료

![설치 마치기]({{"/assets/images/2021-12-05/2021-12-05-01-24.png"| relative_url}})

드디어 설치가 끝났어요! `<계속>`을 눌러 설치를 마치고 재부팅 합니다.

---

# 그리고 남은 이야기

아직 OMV는 설치하지도 않았어요. 사실 OMV 설치까지 같은 글로 정리할까 했는데요. OMV 설치 목적이 아니어도 참고할 수 있도록 일부러 글을 나누었어요.

오히려 OMV 설치는 매우 쉬워요. 스크립트 한 줄이면 알아서 다 설치되거든요. ~~하지만 설정이 매우 복잡~~
