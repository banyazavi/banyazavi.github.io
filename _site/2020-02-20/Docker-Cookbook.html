<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.17.2 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Docker Cookbook - 반야자비의 웹로그 저장소</title>
<meta name="description" content="  컴퓨터 업계에서 “Cookbook”이란 어떤 것을 쉽게 설정하거나 구현할 수 있게 하는 코드 묶음을 의미합니다. 우리는 이 쿡북을 통해서 도커 서비스를 쉽게 설치해 보려고 해요.">


  <meta name="author" content="반야자비">


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="반야자비의 웹로그 저장소">
<meta property="og:title" content="Docker Cookbook">
<meta property="og:url" content="http://0.0.0.0:4000/2020-02-20/Docker-Cookbook">


  <meta property="og:description" content="  컴퓨터 업계에서 “Cookbook”이란 어떤 것을 쉽게 설정하거나 구현할 수 있게 하는 코드 묶음을 의미합니다. 우리는 이 쿡북을 통해서 도커 서비스를 쉽게 설치해 보려고 해요.">







  <meta property="article:published_time" content="2020-02-20T00:00:00+09:00">





  

  


<link rel="canonical" href="http://0.0.0.0:4000/2020-02-20/Docker-Cookbook">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Banyazavi",
      "url": "http://0.0.0.0:4000/"
    
  }
</script>






  <meta name="naver-site-verification" content="b7a6aab44db08c8b2a0f6481b3d71ae43203d2c5">

<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="반야자비의 웹로그 저장소 Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          반야자비의 웹로그 저장소
          <span class="site-subtitle">알게 된 것, 알아가고 있는 것 그리고 알리고 싶은 것을 기록합니다.</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">토글 메뉴</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/avatar.jpg" alt="반야자비" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">반야자비</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>I come not, friends, to steal away your hearts…<br />
- Julius Caesar, Act III, scene ii<br />
<br />
친구여, 나는 너의 하트를 빼앗으려 온 것이 아니다…<br />
- 줄리어스 시저, 3막, 2장</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">팔로우</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="mailto:banyazavi.choi@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i> Email</a></li>
          
        
          
            <li><a href="https://www.banyazavi.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-link" aria-hidden="true"></i> Website</a></li>
          
        
          
        
          
        
          
            <li><a href="https://github.com/banyazavi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
          
        
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">토글 메뉴</label>
  <ul class="nav__items">
    
      <li>
        
          
          

          <a href="/2020-02-20/Docker-Cookbook"><span class="nav__sub-title">Docker Cookbook</span></a>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/2020-02-23/Docker%EC%99%80-Portainer-%EC%84%A4%EC%B9%98" class="">- Docker와 Portainer 설치</a></li>
          
            
            

            
            

            <li><a href="/2020-03-01/Nginx-Proxy-Manager-%EC%84%A4%EC%B9%98" class="">- Nginx Proxy Manager 설치</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>
    
    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Docker Cookbook">
    <meta itemprop="description" content="  컴퓨터 업계에서 “Cookbook”이란 어떤 것을 쉽게 설정하거나 구현할 수 있게 하는 코드 묶음을 의미합니다. 우리는 이 쿡북을 통해서 도커 서비스를 쉽게 설치해 보려고 해요.">
    <meta itemprop="datePublished" content="February 20, 2020">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Docker Cookbook
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <blockquote>
  <p>컴퓨터 업계에서 “Cookbook”이란 어떤 것을 쉽게 설정하거나 구현할 수 있게 하는 코드 묶음을 의미합니다. 우리는 이 쿡북을 통해서 도커 서비스를 쉽게 설치해 보려고 해요.</p>
</blockquote>

<!--more-->

<hr />

<h1 id="docker를-사용한-서비스-구성의-편리성">Docker를 사용한 서비스 구성의 편리성</h1>

<p><img src="/assets/images/2020-02-20/2020-02-20-01-01.png" alt="Docker 로고" /><br />
<a href="https://www.docker.com" target="_blank">Docker 공식 홈페이지</a></p>

<p><a href="/2019-12-22/Docker-서비스-설치">지난 글</a>에서 한번 설명을 했었죠. <strong>Docker</strong>는 컨테이너 기반의 리눅스 가상화 도구입니다.</p>

<p>본래 도커는 가상화 목적으로 제작된 도구이지만, 가상화가 가져다 주는 장점 (내부 환경이 제작자 의도대로 구성되어 있다.) 덕분에 홈서버에 서비스를 편리하게 설치하는 방법으로 활용되고 있죠.</p>

<p>그래서 이번 시리즈는 도커를 통해 배포되는 서비스를 소개하고, 이를 최소한의 이해와 수정으로 사용할 수 있도록 설치 코드 프리셋을 제공해 드리려고 해요.</p>

<h1 id="자신의-아키텍처가-뭔지는-알아-둡시다">자신의 아키텍처가 뭔지는 알아 둡시다</h1>

<p>도커가 아무리 사용자 환경에 상관 없이 설치를 제공한다고는 해도, 정말 모든 곳에 동일하게 설치되는 것은 아니에요. 컴퓨터에는 아키텍처라는 것이 있는데, 기본적으로 이게 다르면 설치 환경이 달라질 수 밖에 없어요.</p>

<p>문제는 도커 이미지가 모든 아키텍처를 제공하지 않을 수도 있다는 건데요. 지원 여부는 <a href="https://hub.docker.com" target="_blank"><strong>Docker Hub</strong></a>의 경우 이미지의 태그를 확인해 보면 알 수 있죠.</p>

<p><img src="/assets/images/2020-02-20/2020-02-20-01-02.png" alt="linuxserver/transmission의 이미지 검색 결과" /></p>

<p><a href="https://www.linuxserver.io" target="_blank"><strong>LinuxServer.io</strong></a>에서 제공하는 <strong>Transmission</strong> 이미지의 검색 결과입니다. <strong>x86-64</strong>, <strong>arm</strong> 그리고 <strong>arm64</strong> 태그가 보이죠? 이게 바로 지원하는 아키텍처에요.</p>

<p>도커는 원래 x86 대상의 도구였기 때문에, x86 기반의 데스크탑 서버는 (CPU가 Intel이나 AMD라면) 도커허브에 있는 대부분의 이미지를 사용할 수 있습니다. 그러나 그렇지 않은 경우라면 (라즈베리파이와 같은 대부분의 SBC의 경우) 해당 아키텍처를 지원하는 이미지인지 확인을 해 보셔야 합니다.</p>

<p>저는 arm 아키텍처인 <strong>오드로이드 XU4</strong>와 x86-64 아키텍처인 <strong>홈서버 (오드로이드 H2)</strong> 두 가지로 테스트하고 글을 쓸 거에요. 따라서 두 아키텍처의 설치 코드가 차이가 발생하거나, arm 아키텍처에서 설치할 수 없을 경우에는 이를 따로 알려주고 글을 시작하도록 하겠습니다.</p>

<p>하지만 유명한 서비스들 위주로 소개를 할 것이기 때문에, 대부분은 둘 다 무리 없이 동작할 거에요.</p>

<h1 id="docker-compose를-알아만-둡시다">Docker Compose를 ‘알아만’ 둡시다</h1>

<p><img src="/assets/images/2020-02-20/2020-02-20-01-03.png" alt="Docker Compose 로고" /><br />
<a href="https://docs.docker.com/compose" target="_blank">Docker Compose 소개 문서</a></p>

<p><strong>Docker Compose</strong>는 여러 개의 컨테이너로 구성된 도커 어플리케이션을 정의할 수 있게 하는 도구입니다. <code class="highlighter-rouge">docker-compose.yml</code>이라고 하는 <strong>YAML</strong> 서식의 파일에 구성을 기록하고, <code class="highlighter-rouge">docker-compose up</code>이라는 명령어를 통해 해당 구성으로 도커 컨테이너를 실행할 수 있게 합니다. 이해가 잘 안되죠?</p>

<p>우리는 이걸 그냥 <strong>도커 설정을 더 정교하게 할 수 있는 도구</strong>라고만 생각합시다. 앞으로 제공할 코드가 각 서비스에 대한 <code class="highlighter-rouge">docker-compose.yml</code> 구성 프리셋이라서, 그냥 그렇다는 걸 알려만 드리는 거에요.</p>

<p>심지어 우리는 <code class="highlighter-rouge">docker-compose.yml</code> 파일을 만들고 <code class="highlighter-rouge">docker-compose up</code> 같은 명령어를 콘솔에 칠 생각도 없습니다. <strong>Portainer</strong>를 설치해서 웹으로 관리할 거에요.</p>

<h1 id="portainer">Portainer</h1>

<p><img src="/assets/images/2020-02-20/2020-02-20-01-04.png" alt="Portainer 로고" /><br />
<a href="https://www.portainer.io" target="_blank">Portainer 공식 홈페이지</a></p>

<p><strong>Portainer</strong>는 도커 관리 웹 패널입니다. 기능이 꽤 강력해서 원격지의 도커를 관리한다거나 할 수도 있긴 한데요, 우리는 그냥 도커가 깔린 서버에 같이 깔아서 <strong>local</strong>로만 사용할 겁니다.</p>

<p>포테이너에는 <strong>Stack</strong>이라고 하는 관리 메뉴가 있는데요. 여러 개의 컨테이너로 구성된 도커 어플리케이션을 코드를 통해 관리하는 방법이에요. 즉, 도커컴포즈를 사용한다는 의미입니다.</p>

<p>그래서 우리는 도커와 포테이너 설치까지만 명령어로 설치하고, 나머지는 포테이너를 통해서 웹으로 작업할 거에요. 물론, 서비스가 설치될 폴더를 만들어둔다거나 하는 부분은 콘솔이나, 적어도 FTP나 SMB와 같은 방법으로 하셔야 합니다. 하지만 이정도는 별로 어렵지 않죠.</p>

<hr />

<h1 id="앞으로-할-내용들">앞으로 할 내용들</h1>

<p>첫 시간은 서버에 도커와 포테이너를 설치하고, <strong>Add stack</strong> 버튼을 눌러보는 단계까지 진행할 거에요.</p>

<p>그리고 그 이후에는 재미있어 보이는 순서대로 홈서버에서 실행할 만한 서비스를 설치해 볼 겁니다.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> 태그: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#docker" class="page__taxonomy-item" rel="tag">Docker</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> 카테고리: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#docker-cookbook" class="page__taxonomy-item" rel="tag">Docker Cookbook</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> 업데이트:</strong> <time datetime="2020-02-20T00:00:00+09:00">February 20, 2020</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">공유하기</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Docker+Cookbook%20http%3A%2F%2F0.0.0.0%3A4000%2F2020-02-20%2FDocker-Cookbook" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F0.0.0.0%3A4000%2F2020-02-20%2FDocker-Cookbook" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2F0.0.0.0%3A4000%2F2020-02-20%2FDocker-Cookbook" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="공유하기 LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2019-12-22/Docker-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%84%A4%EC%B9%98" class="pagination--pager" title="Docker 서비스 설치
">이전</a>
    
    
      <a href="/2020-02-23/Docker%EC%99%80-Portainer-%EC%84%A4%EC%B9%98" class="pagination--pager" title="Docker와 Portainer 설치
">다음</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">참고</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020-03-01/Nginx-Proxy-Manager-%EC%84%A4%EC%B9%98" rel="permalink">Nginx Proxy Manager 설치
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  대부분의 서비스를 웹 페이지를 통해 접속할 거에요. 그러면 HTTPS 설정 서비스부터 설치하는 것이 좋겠죠?


</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2020-02-23/Docker%EC%99%80-Portainer-%EC%84%A4%EC%B9%98" rel="permalink">Docker와 Portainer 설치
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  이 시리즈를 위한 가장 기본적인 도구 두 개를 먼저 설치해야 합니다.


</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019-12-22/Docker-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%84%A4%EC%B9%98" rel="permalink">Docker 서비스 설치
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  도커를 사용하게 되면 OMV 플러그인에 한정되지 않는 수많은 서비스를 설치할 수 있습니다. 그리고 요즘은 도커로 배포되는 서비스도 많아졌어요.


</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/2019-12-14/Let's-Encrypt-SSL-TLS-%EC%9D%B8%EC%A6%9D%EC%84%9C-%EC%A0%81%EC%9A%A9" rel="permalink">Let’s Encrypt SSL/TLS 인증서 적용
</a>
      
    </h2>
    
    <p class="archive__item-excerpt" itemprop="description">
  웹 브라우저를 통해 나스에 접속했을 때, ‘주의 요함’ 이라는 메시지가 뜨면 조금 그렇겠죠?


</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="검색어를 입력하세요..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>팔로우:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/banyazavi" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> 피드</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Banyazavi. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    
  <script>
    var disqus_config = function () {
      this.page.url = "http://0.0.0.0:4000/2020-02-20/Docker-Cookbook";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "/2020-02-20/Docker Cookbook"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://banyazavis-weblog-repository.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  





  </body>
</html>
